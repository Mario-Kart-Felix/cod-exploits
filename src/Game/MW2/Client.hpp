#pragma once

namespace Game
{
	namespace MW2
	{
		class Client
		{
		public:
			enum PacketDirection
			{
				NONE = 0,
				LOCAL_TO_REMOTE,
				REMOTE_TO_LOCAL
			};

			Client(Handler* handler, uint64_t xuid, Network::Address target);
			~Client();

			int getDirection(Network::Address source, Network::Address target);
			void handleSend(Network::Sniffer* sniffer, pcap_t* networkIf, std::string_view data, std::string_view rawData);
			void handleReceive(Network::Sniffer* sniffer, pcap_t* networkIf, std::string_view data, std::string_view rawData);

		private:
			Handler* handler;
			uint64_t xuid;
			Network::Address target;

			std::string packetTemplate;
		};
	}
}
